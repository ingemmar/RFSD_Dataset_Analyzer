# RFSD_Dataset_Analizer
RFSD Dataset Analizer.

# Анализ финансовых показателей российских компаний

## Цель проекта
Проведение комплексного анализа финансовой отчетности российских компаний с использованием современных инструментов анализа данных. Проект реализует полный цикл обработки данных - от загрузки и очистки до статистического анализа и визуализации.

## Техническая реализация

### Используемые технологии
- **Python 3.x** - основной язык программирования
- **Polars** - высокопроизводительная библиотека для работы с данными
- **Seaborn & Matplotlib** - визуализация данных
- **NumPy** - численные вычисления

### Архитектура решения

Проект реализован в объектно-ориентированном стиле с четким разделением ответственности:

#### 1. Класс DataConfig
Конфигурационный класс для управления параметрами анализа:
- **Фильтрация по размеру компании** (микро, малые, средние, крупные)
- **Управление обработкой выбросов**
- **Контроль заполнения пропущенных значений**
- **Исключение записей с нулевой выручкой**

#### 2. Класс RFSDAnalyzer
Основной класс-анализатор, реализующий весь pipeline обработки данных.

### Полный процесс анализа

#### Этап 1: Подготовка данных
```python
# Загрузка 1000 записей из parquet-файла
analyzer.load_data(limit=1000)

# Применение фильтров:
# - Исключение аномальных значений (outlier = False)
# - Исключение нулевой выручки
# - Фильтрация по размеру компании
```

#### Этап 2: Предобработка данных
- **Переименование колонок** в человеко-понятные названия
- **Анализ пропущенных значений** с детальной статистикой
- **Заполнение пропусков** (опционально):
  - Числовые колонки: медианой
  - Текстовые колонки: "Не указано"
  - Булевы колонки: False

#### Этап 3: Статистический анализ
- **Описательная статистика** для всех финансовых показателей
- **Расчет базовых метрик**: count, mean, std, min, max, квартили
- **Анализ распределения** данных

#### Этап 4: Анализ ключевых показателей
Фокус на трех основных метриках:
1. **Выручка** (line_2110)
2. **Чистая прибыль** (line_2400) 
3. **Активы всего** (line_1600)

Для каждого показателя выполняется:
- **Построение гистограмм** (обычная и логарифмическая шкала)
- **Анализ выбросов** методом IQR
- **Логическая валидация** данных

#### Этап 5: Корреляционный анализ
- **Расчет матрицы корреляции** между 20 финансовыми показателями
- **Визуализация** тепловой карты корреляций
- **Выявление наиболее связанных пар** показателей
- **Построение диаграмм рассеивания** для топ-коррелирующих пар

### Ключевые особенности реализации

#### Гибкая конфигурация
Все этапы анализа параметризованы и могут быть отключены:
```python
config = DataConfig(
    company_size=CompanySize.MICRO,      # Анализ только микро-компаний
    exclude_outliers=True,               # Исключить выбросы
    exclude_zero_revenue=True,           # Исключить нулевую выручку
    fill_missing_values=False           # Не заполнять пропуски
)
```

#### Оптимизация производительности
- Использование **Polars** вместо Pandas для работы с большими данными
- **Streaming-загрузка** с лимитом записей
- **Эффективные фильтры** на уровне загрузки данных

#### Качественная визуализация
- **Адаптивные размеры** графиков для разных типов данных
- **Логарифмические шкалы** для работы с большим разбросом значений
- **Профессиональное оформление** с настройкой шрифтов и цветов

## Финансовые показатели для анализа

Проект анализирует 20 ключевых финансовых показателей:

### Основные метрики деятельности
- `Выручка` (line_2110) - выручка от продаж
- `Чистая_прибыль` (line_2400) - чистая прибыль/убыток
- `Прибыль_от_продаж` (line_2200) - операционная прибыль

### Балансовые показатели
- `Активы_всего` (line_1600) - валюта баланса
- `Капитал_и_резервы` (line_1300) - собственный капитал
- `Основные_средства` (line_1150) - основные фонды

### Оборотные активы
- `Денежные_средства` (line_1250) - денежные средства и эквиваленты
- `Дебиторская_задолженность` (line_1230) - дебиторка
- `Запасы` (line_1210) - товарно-материальные запасы
- `Финансовые_вложения` (line_1240) - финансовые инвестиции

### Обязательства
- `Кредиторская_задолженность` (line_1520) - кредиторка
- `Долгосрочные_обязательства` (line_1400) - долгосрочные долги
- `Заемные_средства` (line_1510) - заемный капитал

### Расходные статьи
- `Себестоимость` (line_2120) - себестоимость продаж
- `Коммерческие_расходы` (line_2210) - коммерческие затраты
- `Управленческие_расходы` (line_2220) - административные расходы

### Денежные потоки
- `Денежный_поток_от_продаж` (line_4121) - операционный денежный поток
- `Денежный_поток_операционный` (line_4100) - денежные потоки от операций

### Прочие показатели
- `Нераспределенная_прибыль` (line_1370) - накопленная прибыль
- `Отложенные_налоговые_активы` (line_1180) - отложенные налоги

## Результаты анализа для микро-компаний

### Статистические выводы

#### Распределение показателей
- **Выручка**: Средняя 90,228 руб., сильный разброс (std = 451,769)
- **Чистая прибыль**: Средняя 4,433 руб., 22.3% компаний с аномальными значениями
- **Активы**: Средние активы 92,014 руб., 14.2% экстремальных значений

#### Качество данных
- **Значительные пропуски** в расходных статьях (до 93% в некоторых колонках)
- **Систематическая ошибка**: отрицательные значения расходов (себестоимость: -76,470 руб.)
- **Логические несоответствия**: 63 компании с прибылью > выручки

### Корреляционные выводы

#### Наиболее сильные связи
1. **Выручка ↔ Себестоимость**: -0.990 (артефакт данных)
2. **Себестоимость ↔ Денежный поток**: 0.983 (артефакт данных) 
3. **Активы ↔ Основные средства**: 0.870 (логичная связь)

#### Проблемы интерпретации
Высокие корреляции вызваны техническими артефактами данных, а не реальными экономическими закономерностями.

### Бизнес-выводы

#### 1. Проблемы данных
Обнаружены систематические ошибки в данных, ограничивающие аналитические возможности:
- Инверсия знаков в расходных статьях
- Значительное количество статистических аномалий
- Логические несоответствия в финансовой отчетности

#### 2. Особенности микро-бизнеса
- Высокая волатильность финансовых показателей
- Значительная доля компаний с проблемами в отчетности
- Преобладание небольших объемов деятельности

#### 3. Рекомендации
- Требуется дополнительная верификация и очистка данных
- Необходима проверка методики сбора финансовой отчетности
- Для содержательного анализа нужны корректные данные

## Инструкция по запуску

### Требования
```bash
pip install polars seaborn matplotlib numpy
```

### Запуск анализа
```python
from RFSD_Dataset_Analyzer import DataConfig, CompanySize, RFSDAnalyzer

# Настройка конфигурации
config = DataConfig(
    company_size=CompanySize.MICRO,
    exclude_outliers=True,
    exclude_zero_revenue=True,
    fill_missing_values=False
)

# Запуск анализа
analyzer = RFSDAnalyzer(config)
analyzer.load_data(limit=1000)
analyzer.rename_columns()
analyzer.print_descriptive_stats()
analyzer.analyze_selected_columns()
analyzer.analyze_correlations()
```

## Структура проекта
```
project/
├── RFSD_Dataset_Analyzer.py   # Основной код анализа
├── README.md                  # Документация
├── RFSD/                      # Директория с данными
│   └── year=2024/
│       └── part-0.parquet
└── requirements.txt           # Зависимости
```
